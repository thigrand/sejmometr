<input class="input-filter" #nazwaInput placeholder="Wyszukaj"
  (keydown.enter)="filterDeputiesBy('poslowie.nazwa_odwrocona', nazwaInput)"
  (blur)="filterDeputiesBy('poslowie.nazwa_odwrocona', nazwaInput)"
>
<select #ppSelect (change)="filterDeputiesBy('poslowie.klub_id', ppSelect)">
  <option value="" selected>Wszystkie partie</option>
  <option *ngFor="let pp of politicalParties" value="{{pp.club_id}}">{{pp.club_name}}</option>
</select>
<input class="input-filter" #zawodInput placeholder="Zawód"
  (keydown.enter)="filterDeputiesBy('poslowie.zawod', zawodInput)"
  (blur)="filterDeputiesBy('poslowie.zawod', zawodInput)"
>
<select #genderSelect (change)="filterDeputiesBy('poslowie.plec', genderSelect)">
  <option value="" selected>Kobiety i mężczyźni</option>
  <option value="K">Kobiety</option>
  <option value="M">Mężczyźni</option>
</select>
{{(deputiesListFiltered|async).length}}
<button (click)="resetFilters(nazwaInput, ppSelect, genderSelect, zawodInput)">Zresetuj filtry</button>
<table>
  <thead>
    <tr>
      <th (click)="changeSorting('poslowie.nazwa_odwrocona')">
        Imię i nazwisko
        <span class="" *ngIf="isOrderedBy('poslowie.nazwa_odwrocona')" [ngClass]="{'arrowDown' : !isOrderedReverse(), 'arrowUp' : isOrderedReverse()}"></span>
      </th>
      <th (click)="changeSorting('sejm_kluby.nazwa')">
        Nazwa partii
        <span class="" *ngIf="isOrderedBy('sejm_kluby.nazwa')" [ngClass]="{'arrowDown' : !isOrderedReverse(), 'arrowUp' : isOrderedReverse()}"></span>
      </th>
      <th (click)="changeSorting('poslowie.zawod')">
        Zawód
        <span class="" *ngIf="isOrderedBy('poslowie.zawod')" [ngClass]="{'arrowDown' : !isOrderedReverse(), 'arrowUp' : isOrderedReverse()}"></span>
      </th>
      <th (click)="changeSorting('poslowie.frekwencja')">
        Frekwencja(%)
        <span class="" *ngIf="isOrderedBy('poslowie.frekwencja')" [ngClass]="{'arrowDown' : !isOrderedReverse(), 'arrowUp' : isOrderedReverse()}"></span>
      </th>
      <th (click)="changeSorting('poslowie.zbuntowanie')">
        Zbuntowanie
        <span class="" *ngIf="isOrderedBy('poslowie.zbuntowanie')" [ngClass]="{'arrowDown' : !isOrderedReverse(), 'arrowUp' : isOrderedReverse()}"></span>
      </th>
      <th (click)="changeSorting('poslowie.liczba_wypowiedzi')">
        Liczba wypowiedzi
        <span class="" *ngIf="isOrderedBy('poslowie.liczba_wypowiedzi')" [ngClass]="{'arrowDown' : !isOrderedReverse(), 'arrowUp' : isOrderedReverse()}"></span>
      </th>
      <th (click)="changeSorting('poslowie.liczba_wnioskow')">
        Liczba wniosków
        <span class="" *ngIf="isOrderedBy('poslowie.liczba_wnioskow')" [ngClass]="{'arrowDown' : !isOrderedReverse(), 'arrowUp' : isOrderedReverse()}"></span>
      </th>
      <th (click)="changeSorting('spent')">
        Suma wydatków
        <span class="" *ngIf="isOrderedBy('spent')" [ngClass]="{'arrowDown' : !isOrderedReverse(), 'arrowUp' : isOrderedReverse()}"></span>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let deputy of deputiesListFiltered|async">
      <td>{{deputy.deputyData["poslowie.nazwa_odwrocona"] || (deputy.deputyData["poslowie.imie_pierwsze"] + " " + deputy.deputyData["poslowie.nazwisko"])}}</td>
      <td>{{deputy.deputyData["sejm_kluby.nazwa"] || 'Niezrzeszeni'}}</td>
      <td>{{deputy.deputyData["poslowie.zawod"]}}</td>
      <td>{{deputy.deputyData["poslowie.frekwencja"]}}</td>
      <td>{{deputy.deputyData["poslowie.zbuntowanie"]}}</td>
      <td>{{deputy.deputyData["poslowie.liczba_wypowiedzi"]}}</td>
      <td>{{deputy.deputyData["poslowie.liczba_wnioskow"]}}</td>
      <td>{{deputy.spent}}</td>
    </tr>
  </tbody>
</table>
